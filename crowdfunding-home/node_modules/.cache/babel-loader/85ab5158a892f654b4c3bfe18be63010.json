{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"login\",\n  data: function () {\n    return {\n      loginForm: {\n        email: \"\",\n        password: \"\",\n        key: \"\",\n        verKey: \"\"\n      },\n      verifyCode: \"\"\n    };\n  },\n\n  created() {\n    this.getVerifyCode();\n  },\n\n  methods: {\n    getVerifyCode() {\n      axios.get(\"/api/captcha\").then(({\n        data\n      }) => {\n        console.log(data.data);\n        this.verifyCode = data.data;\n      });\n    },\n\n    login() {\n      axios.post(\"/api/home/homeUser/login\", this.loginForm).then(({\n        data\n      }) => {\n        if (data.flag) {\n          this.$message.success(\"登陆成功\");\n          console.log(data.data);\n          this.$store.commit(\"login\", data.data);\n          this.$router.replace(\"/home/index/index\");\n        } else {\n          this.$message.error(data.message);\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6CA;AAEA;EACAA,aADA;EAEAC;IACA;MACAC;QACAC,SADA;QAEAC,YAFA;QAGAC,OAHA;QAIAC;MAJA,CADA;MAOAC;IAPA;EASA,CAZA;;EAaAC;IACA;EACA,CAfA;;EAgBAC;IACAC;MACAC;QAAAV;MAAA;QACAW;QACA;MAEA,CAJA;IAKA,CAPA;;IAQAC;MACAF;QAAAV;MAAA;QACA;UAEA;UACAW;UACA;UACA;QACA,CANA,MAMA;UACA;QACA;MACA,CAVA;IAWA;;EApBA;AAhBA","names":["name","data","loginForm","email","password","key","verKey","verifyCode","created","methods","getVerifyCode","axios","console","login"],"sourceRoot":"src/views/home_user","sources":["login.vue"],"sourcesContent":["<template>\n  <div >\n  <div class=\"main\">\n\n    <div class=\"login\">\n      <div class=\"log-con layui-form\" v-model=\"loginForm\">\n        <span>登录</span>\n        <div class=\"layui-form-item\" style=\"padding: 7px 45px;\">\n          <input type=\"text\" class=\"layui-input\"  v-model=\"loginForm.email\"  id=\"email\" name=\"email\" placeholder=\"请输入邮箱\"/>\n        </div>\n        <div class=\"layui-form-item\" style=\"padding: 7px 45px;\">\n          <input type=\"password\" class=\"layui-input\"  v-model=\"loginForm.password\"  id=\"password\" name=\"password\" placeholder=\"请输入密码\"/>\n        </div>\n        <div class=\"layui-form-item layui-row layui-col-space15\" style=\"padding: 7px 45px;\">\n          <div class=\"layui-col-md8\">\n            <input type=\"text\" class=\"layui-input\"  v-model=\"loginForm.verKey\" id=\"code\" name=\"code\" placeholder=\"请输入验证码\" maxlength=\"4\"/>\n          </div>\n          <div class=\"layui-col-md4\">\n            <img v-bind:src=\"verifyCode\"\n                 @click=\"getVerifyCode()\"\n                 width=\"130px\" height=\"38px\" style=\"float: right;cursor:pointer;\" />\n\n          </div>\n        </div>\n        <div class=\"layui-form-item\" style=\"padding: 7px 45px;\">\n          <input type=\"button\" value=\"登录\" class=\"layui-btn layui-btn-normal\" @click=\"login()\" style=\"width: 100%;\"/>\n        </div>\n        <div class=\"layui-form-item\" style=\"padding:0px 45px;\">\n          <input type=\"button\" value=\"忘记密码\" class=\"layui-btn layui-btn-normal\" style=\"width: 100%;\" onclick=\"openDialog()\"/>\n        </div>\n        <div class=\"layui-form-item\" style=\"text-align: center;\">\n          <a style=\"color: #FFF; \" href=\"/home/homeUser/register\">注册</a>\n          <a style=\"color: #FFF; margin-left: 20px\" href=\"/home/index/index\">首页</a>\n          <a style=\"color: #FFF; margin-left: 20px\" href=\"http://localhost:8081/login\">前往后台</a>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport axios from \"axios\";\n\nexport default {\n  name: \"login\",\n  data: function (){\n    return {\n      loginForm: {\n        email: \"\",\n        password: \"\",\n        key: \"\",\n        verKey: \"\",\n      },\n      verifyCode: \"\",\n    }\n  },\n  created () {\n    this.getVerifyCode()\n  },\n  methods: {\n    getVerifyCode() {\n      axios.get(\"/api/captcha\").then(({data}) => {\n        console.log(data.data)\n        this.verifyCode = data.data\n\n      })\n    },\n    login() {\n      axios.post(\"/api/home/homeUser/login\",this.loginForm).then(({data})=>{\n        if (data.flag) {\n\n          this.$message.success(\"登陆成功\");\n          console.log(data.data)\n          this.$store.commit(\"login\", data.data);\n          this.$router.replace(\"/home/index/index\");\n        }else{\n          this.$message.error(data.message);\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n/*登录样式*/\n.main {\n  position: fixed;\n  text-align: center;\n  top: 130px;\n  width: 100%;\n  height: auto;\n  display: flex;\n  justify-content: center;\n}\n.login {\n  width: 470px;\n  height:470px;\n  background: linear-gradient(to bottom, #19778c, #095f88);\n  animation: dynamics 6s ease infinite;\n  -webkit-animation: dynamics 6s ease infinite;\n  -moz-animation: dynamics 6s ease infinite;\n  opacity: 0.9;\n  border: solid 1px #13a1fc;\n  background-size:1400% 300%;\n}\n@keyframes dynamics {\n  0% {\n    background-position: 0% 0%;\n  }\n  50% {\n    background-position: 50% 100%;\n  }\n  100% {\n    background-position: 100% 0%;\n  }\n}\n.log-con {\n  background: linear-gradient(#13a1fc, #13a1fc) left top, linear-gradient(#13a1fc, #13a1fc) left top,\n  linear-gradient(#13a1fc, #13a1fc) right top, linear-gradient(#13a1fc, #13a1fc) right top,\n  linear-gradient(#13a1fc, #13a1fc) left bottom, linear-gradient(#13a1fc, #13a1fc) left bottom,\n  linear-gradient(#13a1fc, #13a1fc) right bottom, linear-gradient(#13a1fc, #13a1fc) right bottom;\n  background-repeat: no-repeat;\n  background-size: 3px 20px, 20px 3px;\n  height: 100%;\n  margin: -2px;\n  padding: 3px 1px 1px 0;\n  border-radius: 3px;\n}\n.log-con >span {\n  font-size: 30px;\n  font-weight: bold;\n  line-height: 24px;\n  letter-spacing: 2px;\n  display: block;\n  margin: 20px 0 44px 0;\n}\n.log-con >span::after {\n  display: block;\n  content: '';\n  width: 57px;\n  height: 3px;\n  background: #ffffff;\n  margin-top: 16px;\n  justify-content: center;\n  position: relative;\n  left: 206px;\n}\n.log-con>input {\n  display: block;\n  margin: 10px 0 32px 70px;\n  width: 330px;\n  height: 42px;\n  background-color: #ffffff;\n  border-radius: 4px;\n  opacity: 0.9;\n  border: 0;\n  font-size: 16px;\n  outline: none;\n  padding-left: 10px;\n  color: #000000;\n}\n.log-con>a {\n  width: 340px;\n  height: 44px;\n  background-color: #0090ff;\n  border-radius: 4px;\n  display: block;\n  margin: 10px 0 0 70px;\n  text-align: center;\n  line-height: 44px;\n  cursor: pointer;\n  opacity: 1;\n}\n\ninput::-webkit-input-placeholder {\n  color: #000000;\n  font-size: 16px;\n}\n.log-con>.code {\n  width: 216px;\n  display: inline-block;\n  margin-left: 6px;\n}\n.log-con>#code {\n  width: 94px;\n  display: inline-block;\n  margin-left: 14px;\n  cursor: pointer;\n}\n/*logo*/\n.logo {\n  width: 168px;\n  height: 75px;\n  position: fixed;\n  left: 150px;\n  top: 26px;\n}\n.logo>img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n\n.layui-layer-dialog .layui-layer-padding {\n  padding: 20px 20px 20px 55px;\n  text-align: left;\n  color: #000;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}