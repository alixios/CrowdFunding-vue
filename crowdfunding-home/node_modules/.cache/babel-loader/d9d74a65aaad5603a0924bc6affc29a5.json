{"ast":null,"code":"import Layout from \"@/layout/index.vue\";\nimport router from \"../../router\";\nimport store from \"../../store\";\nimport axios from \"axios\";\nimport Vue from \"vue\";\nexport function generaMenu() {\n  // 查询用户菜单\n  axios.get(\"/api/menu/admin/listAdminMenus\").then(({\n    data\n  }) => {\n    console.log(data);\n\n    if (data.flag) {\n      var userMenuList = data.data;\n      userMenuList.forEach(item => {\n        if (item.icon != null) {\n          item.icon = \"iconfont \" + item.icon;\n        }\n\n        if (item.component == \"Layout\") {\n          item.component = Layout;\n        }\n\n        if (item.children && item.children.length > 0) {\n          item.children.forEach(route => {\n            route.icon = \"iconfont \" + route.icon;\n            route.component = loadView(route.component);\n          });\n        }\n      }); // 添加侧边栏菜单\n\n      store.commit(\"saveUserMenuList\", userMenuList); // 添加菜单到路由\n\n      router.addRoutes(userMenuList);\n    } else {\n      router.push({\n        path: \"/login\"\n      });\n    }\n  });\n}\nexport const loadView = view => {\n  // 路由懒加载\n  return resolve => require([`@/views${view}`], resolve);\n};","map":{"version":3,"names":["Layout","router","store","axios","Vue","generaMenu","get","then","data","console","log","flag","userMenuList","forEach","item","icon","component","children","length","route","loadView","commit","addRoutes","push","path","view","resolve","require"],"sources":["D:/springboot+vue/CrowdFunding-Vue/crowdfunding-vue/src/assets/js/menu.js"],"sourcesContent":["import Layout from \"@/layout/index.vue\";\r\nimport router from \"../../router\";\r\nimport store from \"../../store\";\r\nimport axios from \"axios\";\r\nimport Vue from \"vue\";\r\n\r\nexport function generaMenu() {\r\n  // 查询用户菜单\r\n  axios.get(\"/api/menu/admin/listAdminMenus\").then(({data}) => {\r\n    console.log(data)\r\n    if (data.flag) {\r\n      var userMenuList = data.data;\r\n      userMenuList.forEach(item => {\r\n        if (item.icon != null) {\r\n          item.icon = \"iconfont \" + item.icon;\r\n        }\r\n        if (item.component == \"Layout\") {\r\n          item.component = Layout;\r\n        }\r\n        if (item.children && item.children.length > 0) {\r\n          item.children.forEach(route => {\r\n            route.icon = \"iconfont \" + route.icon;\r\n            route.component = loadView(route.component);\r\n          });\r\n        }\r\n      });\r\n      // 添加侧边栏菜单\r\n      store.commit(\"saveUserMenuList\", userMenuList);\r\n      // 添加菜单到路由\r\n      router.addRoutes(userMenuList);\r\n    } else {\r\n      router.push({ path: \"/login\" });\r\n    }\r\n  });\r\n}\r\n\r\nexport const loadView = view => {\r\n  // 路由懒加载\r\n  return resolve => require([`@/views${view}`], resolve);\r\n};\r\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,OAAO,SAASC,UAAT,GAAsB;EAC3B;EACAF,KAAK,CAACG,GAAN,CAAU,gCAAV,EAA4CC,IAA5C,CAAiD,CAAC;IAACC;EAAD,CAAD,KAAY;IAC3DC,OAAO,CAACC,GAAR,CAAYF,IAAZ;;IACA,IAAIA,IAAI,CAACG,IAAT,EAAe;MACb,IAAIC,YAAY,GAAGJ,IAAI,CAACA,IAAxB;MACAI,YAAY,CAACC,OAAb,CAAqBC,IAAI,IAAI;QAC3B,IAAIA,IAAI,CAACC,IAAL,IAAa,IAAjB,EAAuB;UACrBD,IAAI,CAACC,IAAL,GAAY,cAAcD,IAAI,CAACC,IAA/B;QACD;;QACD,IAAID,IAAI,CAACE,SAAL,IAAkB,QAAtB,EAAgC;UAC9BF,IAAI,CAACE,SAAL,GAAiBhB,MAAjB;QACD;;QACD,IAAIc,IAAI,CAACG,QAAL,IAAiBH,IAAI,CAACG,QAAL,CAAcC,MAAd,GAAuB,CAA5C,EAA+C;UAC7CJ,IAAI,CAACG,QAAL,CAAcJ,OAAd,CAAsBM,KAAK,IAAI;YAC7BA,KAAK,CAACJ,IAAN,GAAa,cAAcI,KAAK,CAACJ,IAAjC;YACAI,KAAK,CAACH,SAAN,GAAkBI,QAAQ,CAACD,KAAK,CAACH,SAAP,CAA1B;UACD,CAHD;QAID;MACF,CAbD,EAFa,CAgBb;;MACAd,KAAK,CAACmB,MAAN,CAAa,kBAAb,EAAiCT,YAAjC,EAjBa,CAkBb;;MACAX,MAAM,CAACqB,SAAP,CAAiBV,YAAjB;IACD,CApBD,MAoBO;MACLX,MAAM,CAACsB,IAAP,CAAY;QAAEC,IAAI,EAAE;MAAR,CAAZ;IACD;EACF,CAzBD;AA0BD;AAED,OAAO,MAAMJ,QAAQ,GAAGK,IAAI,IAAI;EAC9B;EACA,OAAOC,OAAO,IAAIC,OAAO,CAAC,CAAE,UAASF,IAAK,EAAhB,CAAD,EAAqBC,OAArB,CAAzB;AACD,CAHM"},"metadata":{},"sourceType":"module"}