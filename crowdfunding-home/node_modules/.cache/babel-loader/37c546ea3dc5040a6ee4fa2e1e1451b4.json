{"ast":null,"code":"export default {\n  name: \"project\",\n\n  data() {\n    return {\n      dataList: [],\n      // 当前页要展示的博客分页列表数据\n      title: '标题内容',\n      typeList: [],\n      // 分类列表的数据\n      latestList: [],\n      // 最新发布的博客列表的数据\n      pagination: {\n        // 分页相关模型数据\n        currentPage: 1,\n        // 当前页码\n        pageSize: 6,\n        // 每页显示的记录数\n        total: 0,\n        // 总记录数\n        queryString: null // 查询条件\n\n      },\n      articleList: [],\n      blogInfo: {},\n      current: 1\n    };\n  },\n\n  created() {\n    this.findPage();\n  },\n\n  methods: {\n    async findPage() {\n      const str = this.$store.state.queryString;\n\n      const _this = this;\n\n      if (str !== null) {\n        this.pagination.queryString = str;\n        this.$store.state.queryString = null;\n        this.$message.info('搜索结果已经显示在页面下方');\n      } // 发送ajax，提交分页请求（页码，每页显示条数，查询条件)\n\n\n      const param = {\n        currentPage: this.pagination.currentPage,\n        pageSize: this.pagination.pageSize,\n        queryString: this.pagination.queryString\n      };\n      this.axios.post(\"/api/home/findHomePage\", param).then(({\n        data\n      }) => {\n        console.log(data.data.records);\n\n        if (data.flag) {\n          _this.pagination.total = data.data.total;\n          _this.dataList = data.data.records;\n        } else {\n          return this.$message.error('获取博客列表失败！');\n        }\n      });\n    },\n\n    toBlog(blogId) {\n      this.$store.state.searchFlag = false;\n      this.$store.state.blogId = blogId;\n      this.$router.push(`/blog/${blogId}`);\n    },\n\n    handleCurrentChange(currentPage) {\n      // 设置最新的页码\n      this.pagination.currentPage = currentPage; // 重新调用findPage方法进行分页查询\n\n      this.findPage();\n    },\n\n    handleSizeChange(newSize) {\n      this.pagination.pageSize = newSize;\n      this.findPage();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgGA;EACAA,eADA;;EAEAC;IACA;MACAC,YADA;MACA;MACAC,aAFA;MAGAC,YAHA;MAGA;MAEAC,cALA;MAKA;MACAC;QAAA;QACAC,cADA;QACA;QACAC,WAFA;QAEA;QACAC,QAHA;QAGA;QACAC,iBAJA,CAIA;;MAJA,CANA;MAYAC,eAZA;MAaAC,YAbA;MAcAC;IAdA;EAgBA,CAnBA;;EAoBAC;IACA;EACA,CAtBA;;EAuBAC;IACA;MACA;;MACA;;MACA;QACA;QACA;QACA;MACA,CAPA,CAQA;;;MACA;QACAR,wCADA;QAEAC,kCAFA;QAGAE;MAHA;MAKA;QAAAT;MAAA;QACAe;;QACA;UACAC;UACAA;QACA,CAHA,MAGA;UACA;QACA;MACA,CARA;IASA,CAxBA;;IAyBAC;MACA;MACA;MACA;IACA,CA7BA;;IA8BAC;MACA;MACA,0CAFA,CAGA;;MACA;IACA,CAnCA;;IAoCAC;MACA;MACA;IACA;;EAvCA;AAvBA","names":["name","data","dataList","title","typeList","latestList","pagination","currentPage","pageSize","total","queryString","articleList","blogInfo","current","created","methods","console","_this","toBlog","handleCurrentChange","handleSizeChange"],"sourceRoot":"src/views/project","sources":["project.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--page-title-area start-->\r\n    <section class=\"page-title-area\" style=\"background-image:url(assets/img/bg/page-title-bg.jpg);\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-xl-10 offset-xl-1\">\r\n            <div class=\"page-title-wrapper text-center\">\r\n              <h1 class=\"page-title wow fadeInUp2 animated\" data-wow-delay='.1s'>\r\n                项目列表\r\n              </h1>\r\n              <div class=\"breadcrumb\">\r\n                <ul class=\"breadcrumb-list wow fadeInUp2 animated\" data-wow-delay='.3s'>\r\n                  <li><a href=\"/home/index/index\">首页 <i class=\"far fa-chevron-right\"></i></a></li>\r\n                  <li><a class=\"active\">项目列表</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!--page-title-area area-->\r\n    <!--project-area start-->\r\n    <section class=\"project-01-area pt-125 pb-100\">\r\n      <b-container>\r\n        <div class=\"row mb-50 align-items-center\">\r\n          <div class=\"col-xl-8 col-lg-8 col-md-8 col-sm-6\">\r\n            <h5>众筹项目</h5>\r\n          </div>\r\n          <div class=\"col-xl-4 col-lg-4 col-md-4 col-sm-6\">\r\n            <form class=\"select-area mb-50\" method=\"get\" action=\"project\">\r\n              <div class=\"layui-form-item\">\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"caption\" id=\"caption\" type=\"search\" class=\"layui-input\" placeholder=\"请输入项目标题\"\r\n                         value=\"${caption!''}\"/>\r\n                </div>\r\n                <button type=\"submit\" class=\"layui-btn layui-btn-primary\">\r\n                  <i class=\"layui-icon layui-icon-search\"></i>\r\n                  搜索\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <b-row cols=\"4\">\r\n\r\n          <div class=\"col-xl-4 col-lg-4 col-md-6\">\r\n            <div class=\"projects projects-02 white-bg mb-30 wow fadeInUp2 animated\" data-wow-delay='.2s'>\r\n              <div class=\"projects__thumb pos-rel\">\r\n\r\n                <img src=\"/photo/view?filename=${item.headPic}\" alt=\"\" height=\"268\">\r\n\r\n              </div>\r\n              <div class=\"projects__content\">\r\n                <h4><a href=\"detail?id=${item.id}\">\r\n\r\n                </a></h4>\r\n                <div class=\"skill mb-30\">\r\n                  <p>目标金额 <span>$ ${item.targetPrice}</span></p>\r\n                  <div class=\"progress\">\r\n                    <div class=\"layui-progress\" lay-showPercent=\"yes\">\r\n                      <div class=\"layui-progress-bar\" lay-percent=\"${item.progress}%\"></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"projects__content--manager\">\r\n                  <ul class=\"project-manager\">\r\n                    <li>\r\n                      <a>\r\n\r\n                        <img class=\"layui-nav-img\" src=\"/photo/view?filename=${item.homeUser.headPic}\" alt=\"\">\r\n\r\n                        <span>${item.homeUser.name}</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <p class=\"time\"><i class=\"far fa-clock\"></i>${item.end?string(\"yyyy-MM-dd\")}</p>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </b-row>\r\n        <div id=\"page\">\r\n\r\n        </div>\r\n      </b-container>\r\n    </section>\r\n    <!--project-area end-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"project\",\r\n  data() {\r\n    return {\r\n      dataList: [], // 当前页要展示的博客分页列表数据\r\n      title: '标题内容',\r\n      typeList: [], // 分类列表的数据\r\n\r\n      latestList: [], // 最新发布的博客列表的数据\r\n      pagination: { // 分页相关模型数据\r\n        currentPage: 1, // 当前页码\r\n        pageSize: 6, // 每页显示的记录数\r\n        total: 0, // 总记录数\r\n        queryString: null // 查询条件\r\n      },\r\n      articleList: [],\r\n      blogInfo: {},\r\n      current: 1\r\n    }\r\n  },\r\n  created() {\r\n    this.findPage()\r\n  },\r\n  methods: {\r\n    async findPage() {\r\n      const str = this.$store.state.queryString\r\n      const _this = this;\r\n      if (str !== null) {\r\n        this.pagination.queryString = str\r\n        this.$store.state.queryString = null\r\n        this.$message.info('搜索结果已经显示在页面下方')\r\n      }\r\n      // 发送ajax，提交分页请求（页码，每页显示条数，查询条件)\r\n      const param = {\r\n        currentPage: this.pagination.currentPage,\r\n        pageSize: this.pagination.pageSize,\r\n        queryString: this.pagination.queryString\r\n      }\r\n      this.axios.post(\"/api/home/findHomePage\", param).then( ({data}) => {\r\n        console.log(data.data.records)\r\n        if(data.flag){\r\n          _this.pagination.total =data.data.total\r\n          _this.dataList = data.data.records\r\n        }else {\r\n          return this.$message.error('获取博客列表失败！')\r\n        }\r\n      });\r\n    },\r\n    toBlog(blogId) {\r\n      this.$store.state.searchFlag = false;\r\n      this.$store.state.blogId = blogId;\r\n      this.$router.push(`/blog/${blogId}`);\r\n    },\r\n    handleCurrentChange (currentPage) {\r\n      // 设置最新的页码\r\n      this.pagination.currentPage = currentPage\r\n      // 重新调用findPage方法进行分页查询\r\n      this.findPage()\r\n    },\r\n    handleSizeChange (newSize) {\r\n      this.pagination.pageSize = newSize\r\n      this.findPage()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}