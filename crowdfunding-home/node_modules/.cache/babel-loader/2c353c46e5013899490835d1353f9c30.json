{"ast":null,"code":"export default {\n  name: \"index\",\n\n  data() {\n    return {\n      loading: true,\n      activeName: 'second',\n      userInfo: \"\",\n      projectList: [],\n      //\n      pagination: {\n        // 分页相关模型数据\n        currentPage: 1,\n        // 当前页码\n        pageSize: 5,\n        // 每页显示的记录数\n        total: 0,\n        // 总记录数\n        queryString: null // 查询条件\n\n      }\n    };\n  },\n\n  created() {\n    this.getUserInfo();\n    this.getProjectList();\n  },\n\n  methods: {\n    currentChange(current) {\n      this.current = current;\n      this.projectList();\n    },\n\n    handleClick(tab, event) {\n      console.log(tab, event);\n    },\n\n    getUserInfo() {\n      this.axios.get(\"/api/home/homeUser/userInfo\").then(({\n        data\n      }) => {\n        this.userInfo = data.data;\n      });\n    },\n\n    getProjectList() {\n      this.axios.post(\"/api/home/homeUser/projectList\", this.pagination).then(({\n        data\n      }) => {\n        if (data.flag) {\n          this.projectList = data.data.records;\n        } else {\n          this.$message.error(data.message);\n        }\n      });\n    }\n\n  },\n  computed: {\n    projectStatus() {\n      return function (status) {\n        var name = \"\";\n\n        switch (status) {\n          case 0:\n            name = \"未提交\";\n            break;\n\n          case 1:\n            name = \"待审核\";\n            break;\n\n          case 2:\n            name = \"通过\";\n            break;\n\n          case 3:\n            name = \"未通过\";\n            break;\n\n          case 4:\n            name = \"募款\";\n            break;\n\n          case 5:\n            name = \"结束\";\n            break;\n        }\n\n        return {\n          name: name\n        };\n      };\n    },\n\n    projectType() {\n      return function (type) {\n        var name = \"\";\n\n        switch (type) {\n          case 0:\n            name = \"公益\";\n            break;\n\n          case 1:\n            name = \"非公益\";\n            break;\n        }\n\n        return {\n          name: name\n        };\n      };\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6MA;EACAA,aADA;;EAEAC;IACA;MACAC,aADA;MAEAC,oBAFA;MAGAC,YAHA;MAIAC,eAJA;MAIA;MACAC;QAAA;QACAC,cADA;QACA;QACAC,WAFA;QAEA;QACAC,QAHA;QAGA;QACAC,iBAJA,CAIA;;MAJA;IALA;EAYA,CAfA;;EAgBAC;IACA;IACA;EACA,CAnBA;;EAoBAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACAC;IACA,CAPA;;IAQAC;MACA,8CACAC,IADA,CACA;QAAAhB;MAAA;QACA;MAEA,CAJA;IAKA,CAdA;;IAeAiB;MACA;QAAAjB;MAAA;QACA;UACA;QAEA,CAHA,MAGA;UACA;QACA;MACA,CAPA;IAQA;;EAxBA,CApBA;EA8CAkB;IACAC;MACA;QACA;;QACA;UACA;YACApB;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;;UACA;YACAA;YACA;QAlBA;;QAoBA;UACAA;QADA;MAGA,CAzBA;IA0BA,CA5BA;;IA6BAqB;MACA;QACA;;QACA;UACA;YACArB;YACA;;UACA;YACAA;YACA;QANA;;QAQA;UACAA;QADA;MAGA,CAbA;IAcA;;EA5CA;AA9CA","names":["name","data","loading","activeName","userInfo","projectList","pagination","currentPage","pageSize","total","queryString","created","methods","currentChange","handleClick","console","getUserInfo","then","getProjectList","computed","projectStatus","projectType"],"sourceRoot":"src/views/home_user","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"box-container layui-form\" lay-filter=\"main\">\n      <div class=\"layui-row layui-col-space15\">\n        <div class=\"layui-col-md3\">\n          <img class=\"user-image\" :src=\"userInfo.headPic\" id=\"upload_headPic\"/>\n        </div>\n        <div class=\"layui-col-md9\">\n          <div class=\"layui-row pdding-left-right5\">\n            <span>姓名:</span>{{ userInfo.name }}\n          </div>\n          <div class=\"layui-row pdding-left-right5\">\n            <span>性别:</span>\n            <i class=\"layui-icon layui-icon-female\" style=\"color: dodgerblue\"></i>\n          </div>\n          <div class=\"layui-row pdding-left-right5\">\n            <span>邮箱:</span>{{ userInfo.email }}\n          </div>\n          <div class=\"layui-row pdding-left-right5\">\n            <span>手机号:</span>{{ userInfo.mobile }}\n          </div>\n          <div class=\"layui-row pdding-left-right5\">\n            <span>余额:</span>{{ userInfo.balance }}元\n          </div>\n          <div class=\"layui-row pdding-left-right5\">\n            <span>其他操作:</span>\n            <a href=\"javascript:M.recharge();\" style=\"margin-left: 15px;\">点击充值</a>\n            <a href=\"javascript:M.withdraw();\" style=\"margin-left: 15px;\">申请提现</a>\n            <a href=\"javascript:M.addBackCard();\" style=\"margin-left: 15px;\">添加银行卡</a>\n            <a href=\"javascript:M.addLocations();\" style=\"margin-left: 15px;\">添加收货地址</a>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n\n  <el-tabs class=\"tabs-container\"  type=\"border-card\" v-model=\"activeName\" @tab-click=\"handleClick\">\n    <el-tab-pane label=\"个人信息\" name=\"first\">\n      <!-- 表格展示 -->\n      <el-table\n          border\n          :data=\"dataList\"\n          v-loading=\"loading\"\n      >\n        <!-- 项目标题 -->\n        <el-table-column prop=\"caption\" label=\"回馈标题\" align=\"center\"/>\n        <!-- 项目标签 -->\n        <el-table-column prop=\"projectCaption\" label=\"项目标题\" align=\"center\"/>\n\n        <!-- 开始时间  -->\n        <el-table-column prop=\"content\"  label=\"内容\" align=\"center\"/>\n        <!-- 图片 -->\n        <el-table-column\n            prop=\"headPic\"\n            label=\"图片\"\n            align=\"center\"\n        >\n          <template slot-scope=\"scope\">\n            <el-image\n                class=\"article-cover\"\n                :src=\"\n              scope.row.headPic\n                ? scope.row.headPic\n                : 'https://www.static.talkxj.com/articles/c5cc2b2561bd0e3060a500198a4ad37d.png'\n            \"\n            />\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" align=\"center\" width=\"200\">\n          <template slot-scope=\"scope\">\n            <el-popconfirm\n                title=\"确定删除吗？\"\n                style=\"margin-left: 5px\"\n                @confirm=\"deleteProgress(scope.row.id)\"\n            >\n              <el-button size=\"mini\" type=\"danger\" slot=\"reference\">\n                删除\n              </el-button>\n            </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-tab-pane>\n    <el-tab-pane label=\"我的众筹\" name=\"second\">\n      <!-- 表格展示 -->\n      <el-table\n          border\n          :data=\"projectList\"\n      >\n        <!-- 文章标题 -->\n        <el-table-column prop=\"caption\" label=\"标题\" align=\"center\" />\n        <!-- 文章分类 -->\n        <el-table-column\n            prop=\"categoryName\"\n            label=\"分类\"\n            width=\"80\"\n            align=\"center\"\n        />\n        <!-- 文章开始时间 -->\n        <el-table-column\n            prop=\"start\"\n            label=\"开始时间 \"\n            width=\"120\"\n            align=\"center\"\n        >\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-time\" style=\"margin-right:5px\" />\n            {{ scope.row.start | date }}\n          </template>\n        </el-table-column>\n        <!--结束时间 -->\n        <el-table-column\n            prop=\"end\"\n            label=\"开始时间 \"\n            width=\"120\"\n            align=\"center\"\n        >\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-time\" style=\"margin-right:5px\" />\n            {{ scope.row.end | date }}\n          </template>\n        </el-table-column>\n        <!-- 目标金额  -->\n        <el-table-column prop=\"targetPrice\" width=\"100\" label=\"目标金额\" align=\"center\" />\n        <!-- 发布人 -->\n        <el-table-column prop=\"homeUserName\" width=\"120\" label=\"已筹金额\" align=\"center\" />\n        <!-- 状态 -->\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\" align=\"center\" >\n          <template slot-scope=\"scope\" >\n            {{projectStatus(scope.row.status).name}}\n          </template>\n        </el-table-column>\n        <!-- 类型 -->\n        <el-table-column prop=\"type\" label=\"类型\" width=\"80\" align=\"center\" >\n          {{type}}\n          <template slot-scope=\"scope\" >\n            {{projectType(scope.row.type).name}}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" align=\"center\" width=\"200\">\n          <template slot-scope=\"scope\">\n            <el-button :disabled=\"scope.row.type=0\"\n                type=\"success\"\n                size=\"mini\"\n                style=\"margin-left: 5px\"\n                @click=\"submit_audit(scope.row.id)\"\n            >\n              赠品管理\n            </el-button>\n\n            <el-button v-show=\"scope.row.status==3 || scope.row.status==0\"\n                type=\"primary\"\n                size=\"mini\"\n                style=\"margin-left: 5px\"\n                @click=\"editProject(scope.row.id)\"\n            >\n              重新编辑\n            </el-button>\n            <el-button v-show=\"scope.row.status==3\"\n                type=\"success\"\n                size=\"mini\"\n                style=\"margin-top: 5px;margin-left: 5px\"\n                @click=\"feedBack(scope.row.id)\"\n            >\n              查看原因\n            </el-button>\n            <el-button v-show=\"scope.row.status==0\"\n                       type=\"success\"\n                       size=\"mini\"\n                       style=\"margin-top: 5px;margin-left: 5px\"\n                       @click=\"feedBack(scope.row.id)\"\n            >\n              提交申请\n            </el-button>\n\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n          class=\"pagination-container\"\n          background\n          @current-change=\"currentChange\"\n          :current-page=\"pagination.currentPage\"\n          :total=\"pagination.total\"\n\n          layout=\"total, prev, pager, next, jumper\"\n      />\n    </el-tab-pane>\n    <el-tab-pane label=\"我的捐赠\" name=\"third\">我的捐赠</el-tab-pane>\n    <el-tab-pane label=\"地址管理\" name=\"fourth\">地址管理</el-tab-pane>\n    <el-tab-pane label=\"我的收藏\" name=\"fifth\">我的收藏</el-tab-pane>\n    <el-tab-pane label=\"银行卡管理\" name=\"sixth\">银行卡管理</el-tab-pane>\n    <el-tab-pane label=\"充值记录\" name=\"seventh\">充值记录</el-tab-pane>\n    <el-tab-pane label=\"提现记录\" name=\"eighth\">提现记录</el-tab-pane>\n    <el-tab-pane label=\"赠品接收\" name=\"ninth\">赠品接收</el-tab-pane>\n    <el-tab-pane label=\"我的新闻\" name=\"tenth\">我的新闻</el-tab-pane>\n\n  </el-tabs>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      loading: true,\n      activeName: 'second',\n      userInfo: \"\",\n      projectList: [], //\n      pagination: { // 分页相关模型数据\n        currentPage: 1, // 当前页码\n        pageSize: 5, // 每页显示的记录数\n        total: 0, // 总记录数\n        queryString: null // 查询条件\n      },\n    }\n  },\n  created() {\n    this.getUserInfo();\n    this.getProjectList();\n  },\n  methods: {\n    currentChange(current) {\n      this.current = current;\n      this.projectList();\n    },\n    handleClick(tab, event) {\n      console.log(tab, event);\n    },\n    getUserInfo() {\n      this.axios.get(\"/api/home/homeUser/userInfo\")\n          .then(({data}) => {\n            this.userInfo = data.data;\n\n          });\n    },\n    getProjectList() {\n      this.axios.post(\"/api/home/homeUser/projectList\",this.pagination).then(({data}) => {\n        if(data.flag){\n          this.projectList = data.data.records\n\n        }else {\n          this.$message.error(data.message)\n        }\n      })\n    },\n  },\n  computed: {\n    projectStatus() {\n      return function (status) {\n        var name = \"\";\n        switch (status) {\n          case 0:\n            name = \"未提交\";\n            break;\n          case 1:\n            name = \"待审核\";\n            break;\n          case 2:\n            name = \"通过\";\n            break;\n          case 3:\n            name = \"未通过\";\n            break;\n          case 4:\n            name = \"募款\";\n            break;\n          case 5:\n            name = \"结束\";\n            break;\n        }\n        return {\n          name: name\n        };\n      };\n    },\n    projectType() {\n      return function (type) {\n        var name = \"\";\n        switch (type) {\n          case 0:\n            name = \"公益\";\n            break;\n          case 1:\n            name = \"非公益\";\n            break;\n        }\n        return {\n          name: name\n        };\n      };\n    },\n  }\n}\n</script>\n\n<style scoped>\n.tabs-container{\n  margin-left: 110px;\n  margin-right: 110px;\n  margin-bottom: 10px;\n}\n.pagination-container {\n  float: right;\n  margin-top: 1.25rem;\n  margin-bottom: 1.25rem;\n}\n.box-container {\n  font-family: \"Poppins\", sans-serif;\n  font-size: 15px;\n  line-height: 28px;\n  font-weight: 400;\n  font-style: normal;\n  color: #716ca2;\n  width: 960px;\n  height: 250px;\n  min-height:150px;\n  margin: 15px auto;\n}\n\n.user-image {\n  height: 125px;\n  border-radius: 4px;\n  width: 75%;\n  object-fit: cover;\n  margin-left: 20px;\n}\n\n.pdding-left-right5 {\n  padding: 5px 0px;\n}\n\n.pdding-left-right15 {\n  display: inline-block;\n  margin: 0px 15px;\n  padding: 15px 0px;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}