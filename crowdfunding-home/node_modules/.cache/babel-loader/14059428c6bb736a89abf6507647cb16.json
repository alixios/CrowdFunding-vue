{"ast":null,"code":"export default {\n  name: \"project\",\n\n  data() {\n    return {\n      percentage1: \"\",\n      projectList: [],\n      //\n      title: '标题内容',\n      typeList: [],\n      //\n      latestList: [],\n      //\n      pagination: {\n        // 分页相关模型数据\n        currentPage: 1,\n        // 当前页码\n        pageSize: 6,\n        // 每页显示的记录数\n        total: 0,\n        // 总记录数\n        queryString: null // 查询条件\n\n      },\n      blogInfo: {}\n    };\n  },\n\n  created() {\n    this.listProjects();\n  },\n\n  methods: {\n    currentChange(current) {\n      this.current = current;\n      this.projectList();\n    },\n\n    listProjects() {\n      this.axios.post(\"/api/home/project/project\", this.pagination).then(({\n        data\n      }) => {\n        this.projectList = data.data.records;\n        this.total = data.data.total;\n        this.loading = false;\n      });\n    },\n\n    toProject(projectId) {\n      this.$store.state.projectId = projectId;\n      this.$router.push(`/home/project/${projectId}`);\n    },\n\n    handleCurrentChange(currentPage) {\n      // 设置最新的页码\n      this.pagination.currentPage = currentPage; // 重新调用findPage方法进行分页查询\n\n      this.listProjects();\n    },\n\n    handleSizeChange(newSize) {\n      this.pagination.pageSize = newSize;\n      this.listProjects();\n    },\n\n    percentage(preparePrice, targetPrice) {\n      return preparePrice / targetPrice * 100;\n    },\n\n    format(percentage) {\n      return percentage === 100 ? '满' : `${percentage}%`;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiGA;EACAA,eADA;;EAEAC;IACA;MACAC,eADA;MAEAC,eAFA;MAEA;MACAC,aAHA;MAIAC,YAJA;MAIA;MACAC,cALA;MAKA;MACAC;QAAA;QACAC,cADA;QACA;QACAC,WAFA;QAEA;QACAC,QAHA;QAGA;QACAC,iBAJA,CAIA;;MAJA,CANA;MAYAC;IAZA;EAcA,CAjBA;;EAkBAC;IACA;EACA,CApBA;;EAqBAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA,8DACAC,IADA,CACA;QAAAhB;MAAA;QACA;QACA;QACA;MACA,CALA;IAMA,CAZA;;IAaAiB;MACA;MACA;IACA,CAhBA;;IAiBAC;MACA;MACA,0CAFA,CAGA;;MACA;IACA,CAtBA;;IAuBAC;MACA;MACA;IACA,CA1BA;;IA2BAC;MACA;IACA,CA7BA;;IA8BAC;MACA;IACA;;EAhCA;AArBA","names":["name","data","percentage1","projectList","title","typeList","latestList","pagination","currentPage","pageSize","total","queryString","blogInfo","created","methods","currentChange","listProjects","then","toProject","handleCurrentChange","handleSizeChange","percentage","format"],"sourceRoot":"src/views/project","sources":["project.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--page-title-area start-->\r\n    <section class=\"page-title-area\" >\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-xl-10 offset-xl-1\">\r\n            <div class=\"page-title-wrapper text-center\">\r\n              <h1 class=\"page-title wow fadeInUp2 animated\" data-wow-delay='.1s'>\r\n                项目列表\r\n              </h1>\r\n              <div class=\"breadcrumb\">\r\n                <ul class=\"breadcrumb-list wow fadeInUp2 animated\" data-wow-delay='.3s'>\r\n                  <li><a href=\"/home/index/index\">首页 <i>\r\n                    <font-awesome-icon :icon=\"['fas', 'chevron-right']\"/>\r\n                  </i></a></li>\r\n                  <li><a class=\"active\">项目列表</a></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <!--page-title-area area-->\r\n    <!--project-area start-->\r\n    <section class=\"project-01-area pt-125 pb-100\">\r\n      <b-container>\r\n        <div class=\"row mb-50 align-items-center\">\r\n          <div class=\"col-xl-8 col-lg-8 col-md-8 col-sm-6\">\r\n            <h5>众筹项目</h5>\r\n          </div>\r\n          <div class=\"col-xl-4 col-lg-4 col-md-4 col-sm-6\">\r\n                <div class=\"layui-input-inline\">\r\n                  <input name=\"caption\" id=\"caption\" type=\"search\" class=\"layui-input\" placeholder=\"请输入项目标题\"\r\n                         v-model=\"pagination.queryString\" />\r\n                </div>\r\n                <button @click=\"listProjects\" class=\"layui-btn layui-btn-primary\">\r\n                  <i class=\"layui-icon layui-icon-search\"></i>\r\n                  搜索\r\n                </button>\r\n          </div>\r\n        </div>\r\n        <b-row cols=\"3\" >\r\n          <div v-for=\"item in projectList\" :key=\"item.id\">\r\n          <b-col>\r\n            <div class=\"projects projects-02 white-bg mb-30 wow fadeInUp2 animated\" data-wow-delay='.2s'>\r\n              <div class=\"projects__thumb pos-rel\">\r\n                <img v-bind:src=item.headPic alt=\"\" @click=\"toProject(item.id)\" height=\"268\">\r\n              </div>\r\n              <div class=\"projects__content\" >\r\n                <h4 @click=\"toProject(item.id)\">\r\n                    {{item.caption}}\r\n                </h4>\r\n                <div class=\"skill mb-30\">\r\n                  <p>目标金额 <span>{{item.targetPrice}}</span></p>\r\n                      <el-progress :percentage=\"percentage(item.preparePrice,item.targetPrice)\" status=\"success\"></el-progress>\r\n                </div>\r\n                <div class=\"projects__content--manager\">\r\n                  <ul class=\"project-manager\">\r\n                    <li>\r\n                      <a>\r\n                        <img class=\"layui-nav-img\" v-bind:src=item.avatar alt=\"\">\r\n                        <span>{{item.homeUserName}}</span>\r\n                        <span>{{item.sex}}</span>\r\n                      </a>\r\n                    </li>\r\n                    <li>\r\n                      <p class=\"time\">\r\n                        <i><font-awesome-icon :icon=\"['fas', 'fa-clock']\"/></i>\r\n                        {{item.start}}</p>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </b-col>\r\n          </div>\r\n        </b-row>\r\n        <!-- 分页 -->\r\n        <el-pagination\r\n            class=\"pagination-container\"\r\n            background\r\n            @current-change=\"currentChange\"\r\n            :current-page=\"pagination.currentPage\"\r\n            :total=\"pagination.total\"\r\n\r\n            layout=\"total, prev, pager, next, jumper\"\r\n        />\r\n      </b-container>\r\n    </section>\r\n    <!--project-area end-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"project\",\r\n  data() {\r\n    return {\r\n      percentage1: \"\",\r\n      projectList: [], //\r\n      title: '标题内容',\r\n      typeList: [], //\r\n      latestList: [], //\r\n      pagination: { // 分页相关模型数据\r\n        currentPage: 1, // 当前页码\r\n        pageSize: 6, // 每页显示的记录数\r\n        total: 0, // 总记录数\r\n        queryString: null // 查询条件\r\n      },\r\n      blogInfo: {},\r\n    }\r\n  },\r\n  created() {\r\n    this.listProjects()\r\n  },\r\n  methods: {\r\n    currentChange(current) {\r\n      this.current = current;\r\n      this.projectList();\r\n    },\r\n    listProjects() {\r\n      this.axios.post(\"/api/home/project/project\", this.pagination)\r\n          .then(({ data }) => {\r\n            this.projectList = data.data.records;\r\n            this.total = data.data.total;\r\n            this.loading = false;\r\n          });\r\n    },\r\n    toProject(projectId){\r\n      this.$store.state.projectId = projectId;\r\n      this.$router.push(`/home/project/${projectId}`);\r\n    },\r\n    handleCurrentChange (currentPage) {\r\n      // 设置最新的页码\r\n      this.pagination.currentPage = currentPage\r\n      // 重新调用findPage方法进行分页查询\r\n      this.listProjects()\r\n    },\r\n    handleSizeChange (newSize) {\r\n      this.pagination.pageSize = newSize\r\n      this.listProjects()\r\n    },\r\n    percentage(preparePrice,targetPrice) {\r\n      return (preparePrice / targetPrice)*100\r\n    },\r\n    format(percentage) {\r\n      return percentage === 100 ? '满' : `${percentage}%`;\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.pagination-container {\r\n  float: right;\r\n  margin-top: 1.25rem;\r\n  margin-bottom: 1.25rem;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}