{"ast":null,"code":"export default {\n  name: \"news\",\n\n  data() {\n    return {\n      newsList: [],\n      //\n      title: '标题内容',\n      pagination: {\n        // 分页相关模型数据\n        currentPage: 1,\n        // 当前页码\n        pageSize: 6,\n        // 每页显示的记录数\n        total: 0,\n        // 总记录数\n        queryString: null // 查询条件\n\n      }\n    };\n  },\n\n  created() {\n    this.listNews();\n  },\n\n  methods: {\n    listNews() {\n      this.axios.post(\"/api/home/news/list\", this.pagination).then(({\n        data\n      }) => {\n        this.newsList = data.data.records;\n        this.total = data.data.total;\n        this.loading = false;\n      });\n    },\n\n    toProject(projectId) {\n      this.$store.state.projectId = projectId;\n      this.$router.push(`/home/project/${projectId}`);\n    },\n\n    handleCurrentChange(currentPage) {\n      // 设置最新的页码\n      this.pagination.currentPage = currentPage; // 重新调用findPage方法进行分页查询\n\n      this.listProjects();\n    },\n\n    handleSizeChange(newSize) {\n      this.pagination.pageSize = newSize;\n      this.listProjects();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqEA;EACAA,YADA;;EAEAC;IACA;MACAC,YADA;MACA;MACAC,aAFA;MAGAC;QAAA;QACAC,cADA;QACA;QACAC,WAFA;QAEA;QACAC,QAHA;QAGA;QACAC,iBAJA,CAIA;;MAJA;IAHA;EAUA,CAbA;;EAcAC;IACA;EACA,CAhBA;;EAiBAC;IACAC;MACA,wDACAC,IADA,CACA;QAAAX;MAAA;QACA;QACA;QACA;MACA,CALA;IAMA,CARA;;IASAY;MACA;MACA;IACA,CAZA;;IAaAC;MACA;MACA,0CAFA,CAGA;;MACA;IACA,CAlBA;;IAmBAC;MACA;MACA;IACA;;EAtBA;AAjBA","names":["name","data","newsList","title","pagination","currentPage","pageSize","total","queryString","created","methods","listNews","then","toProject","handleCurrentChange","handleSizeChange"],"sourceRoot":"src/views/news","sources":["news.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n  <!--page-title-area start-->\r\n  <section class=\"page-title-area\" style=\"background-image:url(/home/images/bg/page-title-bg.jpg);\">\r\n    <div class=\"right-border-shape\">\r\n      <img src=\"/home/images/shape/02.png\" alt=\"\">\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xl-10 offset-xl-1\">\r\n          <div class=\"page-title-wrapper text-center\">\r\n            <h1 class=\"page-title wow fadeInUp2 animated\" data-wow-delay='.1s'>新闻列表</h1>\r\n            <div class=\"breadcrumb\">\r\n              <ul class=\"breadcrumb-list wow fadeInUp2 animated\" data-wow-delay='.3s'>\r\n                <li><a href=\"/home/index/index\">首页<i class=\"far fa-chevron-right\"></i></a></li>\r\n                <li><a class=\"active\">新闻列表</a></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <!--page-title-area area-->\r\n  <!--blog-area start-->\r\n  <section class=\"blog-area pt-130 pb-100\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div v-for=\"item in newsList\" :key=\"item.id\">\r\n        <div class=\"col-xl-4 col-lg-4 col-md-6 wow fadeInUp2 animated\" data-wow-delay='.1s'>\r\n          <div class=\"blogs mb-30\">\r\n            <div class=\"blogs__thumb pos-rel mb-45\">\r\n              <div class=\"blogs__thumb--img\">\r\n                <img :src=\"item.headPic\" alt=\"\" style=\"width: 366px;height: 247px;\">\r\n              </div>\r\n              <a class=\"blog-tag\" href=\"/home/news/detail?id=${news.id}\">{{typeName}}</a>\r\n            </div>\r\n            <div class=\"blogs__content\">\r\n              <div class=\"blogs__content--meta mb-15\">\r\n                <span><i class=\"far fa-calendar-alt\"></i>{{news.createTime}}</span>\r\n              </div>\r\n              <h4 class=\"mb-20\"><a href=\"/home/news/detail?id=${news.id}\">{{news.caption}}</a></h4>\r\n              <ul class=\"project-manager\">\r\n                <li>\r\n                  <a href=\"#\">\r\n                    <img :src=\"item.avatar\" alt=\"\" style=\"width: 40px;height: 40px;\">\r\n                  <span>{{item.homeUserName}}</span>\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a class=\"more_btn_02\" href=\"/home/news/detail?id=${news.id}\">阅读更多<i class=\"far fa-arrow-right\"></i></a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n    <div id=\"page\" style=\"text-align: center\">\r\n\r\n    </div>\r\n    </div>\r\n  </section>\r\n  <!--blog-area end-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"news\",\r\n  data() {\r\n    return {\r\n      newsList: [], //\r\n      title: '标题内容',\r\n      pagination: { // 分页相关模型数据\r\n        currentPage: 1, // 当前页码\r\n        pageSize: 6, // 每页显示的记录数\r\n        total: 0, // 总记录数\r\n        queryString: null // 查询条件\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    this.listNews()\r\n  },\r\n  methods: {\r\n    listNews() {\r\n      this.axios.post(\"/api/home/news/list\", this.pagination)\r\n          .then(({ data }) => {\r\n            this.newsList = data.data.records;\r\n            this.total = data.data.total;\r\n            this.loading = false;\r\n          });\r\n    },\r\n    toProject(projectId){\r\n      this.$store.state.projectId = projectId;\r\n      this.$router.push(`/home/project/${projectId}`);\r\n    },\r\n    handleCurrentChange (currentPage) {\r\n      // 设置最新的页码\r\n      this.pagination.currentPage = currentPage\r\n      // 重新调用findPage方法进行分页查询\r\n      this.listProjects()\r\n    },\r\n    handleSizeChange (newSize) {\r\n      this.pagination.pageSize = newSize\r\n      this.listProjects()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}